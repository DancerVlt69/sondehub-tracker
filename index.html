<!DOCTYPE html>
<html lang="en" manifest="cache.manifest">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>habitat mobile tracker</title>
        <meta name="description" content="The little brother of spacenear.us/tracker. A cross-device web application for tracking high altitude balloons on habitat. Track on your mobile or desktop." />
        <meta name="author" content="Rossen Georgiev" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta name="apple-mobile-web-app-title" content="Habitat Tracker">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link rel="apple-touch-icon" sizes="57x57" href="img/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="img/apple-touch-icon.png" />
        <link rel="fluid-icon" href="img/fluidicon.png" title="Mobile Tracker" />
        <link rel="icon" type="image/x-icon" href="favicon.ico" />
        <!--
        <link rel="stylesheet" href="css/base.css"/>
        <link rel="stylesheet" href="css/skeleton.css"/>
        <link rel="stylesheet" href="css/layout.css"/>
        <link rel="stylesheet" href="css/habitat-font.css"/>
        <link rel="stylesheet" href="css/main.css"/>
        -->
        <link rel="stylesheet" href="css/mobile.css"/>
    </head>
    <body>

    <div id="loading">
        <div>
            <img src="img/logo.png" />
            <div class="bar" style="display: none"><div class="complete"></div></div>
        </div>
    </div>

    <header style="display: none">
        <div class="container">
            <ol class="nav">
                <li class="home"><i class="icon-habhub"></i></li>
                <li class="chasecar" style="display: none"><i class="icon-car"></i></li>
                <li class="settings"><i class="icon-settings"></i></li>
                <li class="weather">
                    <svg width="100%" height="100%" viewbox="0 0 35 40" version="1.1">
                        <path style="fill:#ffffff;" d="M 18.28125,5 C 17.665689,5.1577701 18.03897,6.072102 17.9375,6.6048171 17.961629,7.7933649 17.891319,9.0210305 17.96875,10.1875 18.260664,10.655295 18.988694,10.16755 19.495121,10.179003 19.915569,10.180314 20.482932,9.9817615 20.218593,9.5070668 19.685242,8.0689805 19.166647,6.5372411 18.625,5.15625 18.528924,5.0654291 18.420762,5.0014609 18.28125,5 z M 28.15625,6.78125 C 27.636383,7.0532274 27.291342,7.7650855 26.831767,8.2022559 26.183602,9.0036626 25.432231,9.7753304 24.84375,10.59375 24.760617,11.249334 25.657959,11.271078 26.078986,11.644576 26.390422,11.953835 26.933703,11.952146 27.000157,11.538317 27.50744,10.067568 28.117357,8.594139 28.5625,7.125 28.492656,6.9017107 28.410263,6.7690543 28.15625,6.78125 z M 9.5,10 C 9.0954231,10.135594 9.2373811,10.695886 9.5795967,10.908518 10.537018,12.015516 11.460558,13.256267 12.4375,14.28125 13.029751,14.410245 13.239648,13.580555 13.666521,13.22967 13.9948,13.00156 14.131018,12.482443 13.78125,12.375 12.489706,11.554805 11.012447,10.783392 9.71875,10 9.6458333,10 9.5729167,10 9.5,10 z M 20.84375,11.84375 C 18.371908,11.824599 15.919598,13.01633 14.4375,15 11.081301,15.152911 7.9058815,17.160924 6.28125,20.09375 2.2666586,20.646663 -0.69921244,24.862902 0.11714748,28.826804 0.69396943,32.528614 4.3500351,35.295394 8.0531848,35 13.498142,34.979277 18.945738,35.041925 24.389003,34.967703 28.012052,34.706771 30.775569,30.845122 29.836019,27.330847 29.833738,25.300645 26.765497,24.336816 28.355407,22.48894 29.815113,18.665861 27.745092,13.988203 23.952748,12.472903 22.972942,12.055889 21.908328,11.842683 20.84375,11.84375 z M 20.21875,13.59375 C 23.527165,13.23952 26.784739,15.868299 27.030581,19.205159 27.115191,20.410269 26.970056,22.322167 26.040039,22.926528 23.85825,22.779121 24.34015,19.916014 22.792045,18.711734 21.278161,16.832506 19.06924,15.524713 16.6875,15.125 17.664583,14.25896 18.917452,13.711132 20.21875,13.59375 z M 34.53125,14.5 C 32.976676,14.79175 31.359523,14.999412 29.84375,15.34375 29.432201,15.70465 29.988892,16.309044 30.057328,16.768486 30.153946,17.218356 30.409976,17.817605 30.892161,17.453583 32.226329,16.650798 33.669292,15.884461 34.9375,15.0625 35.138066,14.780605 34.838029,14.456276 34.53125,14.5 z M 15,16.75 C 18.527258,16.691328 21.880457,19.184293 22.875,22.5625 21.79535,22.747412 19.681154,23.400321 19.66679,24.380589 20.173956,24.71003 20.627331,25.845369 21.195407,25.029384 23.413999,23.416094 26.91018,24.431242 27.896354,26.999192 29.087621,29.561636 27.239462,32.866375 24.435283,33.198105 21.16923,33.314717 17.892696,33.218673 14.62245,33.25 11.957151,33.213512 9.2843705,33.327734 6.6243627,33.183689 3.2643734,32.772467 0.9055326,29.012617 2.003206,25.808244 2.6850371,23.482227 4.9843514,21.775323 7.40625,21.78125 8.6597695,18.794322 11.749593,16.71468 15,16.75 z M 30.46875,22.1875 C 30.056841,22.438736 30.028318,23.215643 29.779714,23.682554 29.505486,24.023058 29.684998,24.517691 30.15025,24.501295 31.642521,24.753547 33.129447,25.065901 34.625,25.28125 35.096754,25.222871 35.037983,24.560567 34.590363,24.47021 33.258254,23.721082 31.923603,22.888061 30.59375,22.1875 30.552083,22.1875 30.510417,22.1875 30.46875,22.1875 z" />
                    </svg>
                </li>
                <li class="embed">
                    <svg width="100%" height="100%" viewbox="0 0 35 40" version="1.1">
                    <path style="fill:#ffffff;" d="m19.188,4.0378c-1.698,10.6-3.396,21.2-5.094,31.8,1.478,0.9,2.037-0.6,2.024-1.7,1.607-10.1,3.213-20.1,4.82-30.1h-1.75zm-6.469,5.3c-3.9064,3-7.8129,6-11.719,9v3.7c3.9045,3,7.8143,6,11.719,9v-3.9c-3.0949-2.3-6.1868-4.6-9.2815-7,3.0937-2.3,6.1875-4.6,9.2815-6.9v-3.9zm9.562,0v3.9c3.094,2.3,6.188,4.6,9.281,6.9-3.093,2.4-6.187,4.7-9.281,7v3.9c3.905-3,7.814-6,11.719-9v-3.7c-3.906-3-7.813-6-11.719-9z"/>
                    </svg>
                </li>
                <li class="about last"><i class="icon-question"></i></li>
            </ol>
            <span id="locate-me" style="display: none"><i class="icon-target"></i></span>
            <span id="app_name"><b>mobile<br/>tracker</b></span>
        </div>
    </header>

    <div id="embedbox" style="display: none" class="flatpage">
        <div class="slimContainer">
            <h2>Embed tracker
                <svg width="35" height="40" viewbox="0 0 35 40" version="1.1" class="rfloat">
                <path style="fill:#666666;" d="m19.188,4.0378c-1.698,10.6-3.396,21.2-5.094,31.8,1.478,0.9,2.037-0.6,2.024-1.7,1.607-10.1,3.213-20.1,4.82-30.1h-1.75zm-6.469,5.3c-3.9064,3-7.8129,6-11.719,9v3.7c3.9045,3,7.8143,6,11.719,9v-3.9c-3.0949-2.3-6.1868-4.6-9.2815-7,3.0937-2.3,6.1875-4.6,9.2815-6.9v-3.9zm9.562,0v3.9c3.094,2.3,6.188,4.6,9.281,6.9-3.093,2.4-6.187,4.7-9.281,7v3.9c3.905-3,7.814-6,11.719-9v-3.7c-3.906-3-7.813-6-11.719-9z"/>
                </svg>
            </h2>
            <hr>
            <p>
                It's possible to embed the mobile tracker on any page. If you are developing a HAB project, you can add the tracker
                to your website. You can customize the tracker to fit. There are options to limit, the visible vehicles to
                a specific callsign. Or two, or three. There are options to play with. It's easy. Just visit the page bellow and check it out.
            </p>
            <p>
                <a href="embed-preview.html">Customize tracker for embedding</a>
            </p>
        </div>
    </div>
    <div id="aboutbox" style="display: none" class="flatpage">
        <div class="slimContainer">
            <h2><i class="icon-question rfloat"></i>About</h2>
            <hr>
            <p>
                This is the Habitat Mobile Tracker app. It sits on spacenear.us API, which gives us the latest from Habitat.
                You can run the app on almost any device, all you need is a modern browser. Try it on a phone, table, or PC.
                There are a few differences. Specifically, on mobile devices the app will provice access to 'chase car'
                functionallity. This especially useful when you are hunting for your freshly landed HAB.
            </p>
            <h2>Bugs</h2>
            <hr>
            <p>
                If you exprience any bugs when loading up the tracker, try clearing your browser cache. If it still does
                not work, please leave us a message on IRC or github. Thanks!
            </p>
            <h2>Contribute</h2>
            <hr>
            <p>
                Suggestions and pull requests are welcome. Just find us on <u>#highaltitude</u> at <u>irc.freenode.org</u>.
                Or at <a href="https://github.com/rossengeorgiev/habitat-mobile-tracker">github/habitat-mobile-tracker</a>
            </p>
        </div>
    </div>
    <div id="settingsbox" style="display: none" class="flatpage">
        <div class="slimContainer">
            <h2><i class="icon-settings rfloat"></i>Settings</h2>
            <hr>
            <div class="row option">
                <span><b>Daylight overlay</b></span>
                <div class="switch off" id="sw_daylight">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_daylight">
                </div>
            </div>
            <div class="row option">
                <span><b>Cloud layer</b></span>
                <div class="switch off" id="sw_layers_clouds">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_layers_clouds">
                </div>
            </div>
            <div class="row option">
                <span><b>Imperial units</b></span>
                <div class="switch off" id="sw_imperial">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_imperial">
                </div>
            </div>
            <div class="row option">
                <span><b>Horizontal speed in hours</b></span>
                <div class="switch off" id="sw_haxis_hours">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_haxis_hours">
                </div>
            </div>
            <div class="row option">
                <span><b>Hide time display</b></span>
                <div class="switch off" id="sw_hide_timebox">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_hide_timebox">
                </div>
            </div>
            <div class="row option">
                <span><b>Hide receivers from the map</b></span>
                <div class="switch off" id="sw_hide_receivers">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_hide_receivers">
                </div>
            </div>
            <div class="row option">
                <span><b>Availability offline</b></span>
                <div class="switch off" id="sw_offline">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_offline">
                </div>
            </div>
            <div class="row option">
                <span><b>Mobile station</b></span>
                <div class="switch off" id="sw_station">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_station">
                </div>
            </div>
            <div class="row info">
                <span>
                Chase car equipped with radio receiver
                </span>
            </div>
            <div class="row option">
                <span><b>Force check for new version</b></span>
                <div class="switch off" id="sw_cache">
                    <span class="thumb"></span>
                    <input type="checkbox" id="opt_cache">
                </div>
            </div>
            <div class="row info">
                <span>
                Reloads appcache if nessasary.
                The size of cache files is 1.2 MB.
                This does not include map tiles.
                </span>
            </div>
        </div>
    </div>
    <div id="weatherbox" style="display: none" class="flatpage">
        <div class="slimContainer">
            <h2>Weather
                <svg width="35" height="40" viewbox="0 0 35 40" version="1.1" class="rfloat">
                    <path style="fill:#666666;" d="M 18.28125,5 C 17.665689,5.1577701 18.03897,6.072102 17.9375,6.6048171 17.961629,7.7933649 17.891319,9.0210305 17.96875,10.1875 18.260664,10.655295 18.988694,10.16755 19.495121,10.179003 19.915569,10.180314 20.482932,9.9817615 20.218593,9.5070668 19.685242,8.0689805 19.166647,6.5372411 18.625,5.15625 18.528924,5.0654291 18.420762,5.0014609 18.28125,5 z M 28.15625,6.78125 C 27.636383,7.0532274 27.291342,7.7650855 26.831767,8.2022559 26.183602,9.0036626 25.432231,9.7753304 24.84375,10.59375 24.760617,11.249334 25.657959,11.271078 26.078986,11.644576 26.390422,11.953835 26.933703,11.952146 27.000157,11.538317 27.50744,10.067568 28.117357,8.594139 28.5625,7.125 28.492656,6.9017107 28.410263,6.7690543 28.15625,6.78125 z M 9.5,10 C 9.0954231,10.135594 9.2373811,10.695886 9.5795967,10.908518 10.537018,12.015516 11.460558,13.256267 12.4375,14.28125 13.029751,14.410245 13.239648,13.580555 13.666521,13.22967 13.9948,13.00156 14.131018,12.482443 13.78125,12.375 12.489706,11.554805 11.012447,10.783392 9.71875,10 9.6458333,10 9.5729167,10 9.5,10 z M 20.84375,11.84375 C 18.371908,11.824599 15.919598,13.01633 14.4375,15 11.081301,15.152911 7.9058815,17.160924 6.28125,20.09375 2.2666586,20.646663 -0.69921244,24.862902 0.11714748,28.826804 0.69396943,32.528614 4.3500351,35.295394 8.0531848,35 13.498142,34.979277 18.945738,35.041925 24.389003,34.967703 28.012052,34.706771 30.775569,30.845122 29.836019,27.330847 29.833738,25.300645 26.765497,24.336816 28.355407,22.48894 29.815113,18.665861 27.745092,13.988203 23.952748,12.472903 22.972942,12.055889 21.908328,11.842683 20.84375,11.84375 z M 20.21875,13.59375 C 23.527165,13.23952 26.784739,15.868299 27.030581,19.205159 27.115191,20.410269 26.970056,22.322167 26.040039,22.926528 23.85825,22.779121 24.34015,19.916014 22.792045,18.711734 21.278161,16.832506 19.06924,15.524713 16.6875,15.125 17.664583,14.25896 18.917452,13.711132 20.21875,13.59375 z M 34.53125,14.5 C 32.976676,14.79175 31.359523,14.999412 29.84375,15.34375 29.432201,15.70465 29.988892,16.309044 30.057328,16.768486 30.153946,17.218356 30.409976,17.817605 30.892161,17.453583 32.226329,16.650798 33.669292,15.884461 34.9375,15.0625 35.138066,14.780605 34.838029,14.456276 34.53125,14.5 z M 15,16.75 C 18.527258,16.691328 21.880457,19.184293 22.875,22.5625 21.79535,22.747412 19.681154,23.400321 19.66679,24.380589 20.173956,24.71003 20.627331,25.845369 21.195407,25.029384 23.413999,23.416094 26.91018,24.431242 27.896354,26.999192 29.087621,29.561636 27.239462,32.866375 24.435283,33.198105 21.16923,33.314717 17.892696,33.218673 14.62245,33.25 11.957151,33.213512 9.2843705,33.327734 6.6243627,33.183689 3.2643734,32.772467 0.9055326,29.012617 2.003206,25.808244 2.6850371,23.482227 4.9843514,21.775323 7.40625,21.78125 8.6597695,18.794322 11.749593,16.71468 15,16.75 z M 30.46875,22.1875 C 30.056841,22.438736 30.028318,23.215643 29.779714,23.682554 29.505486,24.023058 29.684998,24.517691 30.15025,24.501295 31.642521,24.753547 33.129447,25.065901 34.625,25.28125 35.096754,25.222871 35.037983,24.560567 34.590363,24.47021 33.258254,23.721082 31.923603,22.888061 30.59375,22.1875 30.552083,22.1875 30.510417,22.1875 30.46875,22.1875 z" />
                </svg>
            </h2>
            <hr>
            <p>Here you can access various weather overlays. This an <b>experimental feature</b>. Mobile users be aware that this can quickly eat your data allowance.</p>
        </div>
    </div>
    <div id="chasecarbox" style="display: none" class="flatpage">
        <div class="slimContainer">
            <h2>Chase car mode</h2>
            <hr>
            <div class="row option">
                <span>Enable</span>
                <div class="switch off" id="sw_chasecar">
                    <span class="thumb"></span>
                    <input type="checkbox" id="chasecar_on">
                </div>
            </div>
            <div class="row option">
                <span>Callsign</span>
                <span class="r"><input type="text" id="cc_callsign" style="width: 140px;"/></span>
            </div>
            <div class="row">
                <span><b>Warning: If you enable this, your location will be uploaded to habitat; making it publicly visible on the map.</b></span>
            </div>
            <hr>
            <div class="row">
                <span>Last updated</span>
                <span class="r" id="cc_timestamp">never</span>
            </div>
            <div class="row">
                <span>Latitude</span>
                <span class="r" id="cc_lat">0.000000</span>
            </div>
            <div class="row">
                <span>Longitude</span>
                <span class="r" id="cc_lon">0.000000</span>
            </div>
            <div class="row">
                <span>Altitude</span>
                <span class="r" id="cc_alt">none</span>
            </div>
            <div class="row">
                <span>Accuracy</span>
                <span class="r" id="cc_accuracy">none</span>
            </div>
            <div class="row">
                <span>Speed</span>
                <span class="r" id="cc_speed">none</span>
            </div>
        </div>
    </div>
    <div id="homebox" style="width:0px;height:0px"></div>
    <div id="mapscreen">
        <div id="timebox" class="present" style="display: none">
            <svg width="40" height="40" viewbox="0 0 200 200" version="1.1" class="lfloat">
                  <path d="M99.812,43.188c-2.77,0-5,2.032-5,4.562v40.875c-4.315,1.97-7.312,6.321-7.312,11.375,0,6.9,5.596,12.5,12.5,12.5,1.05,0,2.06-0.16,3.03-0.41l23.35,23.35c2.23,2.24,5.93,2.13,8.28-0.22s2.42-6.04,0.18-8.28l-23-23c0.42-1.24,0.66-2.56,0.66-3.94,0-5.202-3.17-9.68-7.69-11.562v-40.688c0-2.53-2.23-4.562-4.998-4.562zm-5.906-23c0.031-0.003,0.063,0.002,0.094,0v14.374c0,0.236,0.202,0.438,0.438,0.438h11.122c0.24,0,0.44-0.202,0.44-0.438v-14.343c39.4,2.921,70.86,34.381,73.78,73.781h-14.34c-0.24,0-0.44,0.171-0.44,0.406v11.154c0,0.24,0.2,0.44,0.44,0.44h14.34c-2.92,39.4-34.38,70.86-73.78,73.78v-14.37c0-0.24-0.2-0.41-0.44-0.41h-11.122c-0.236,0-0.438,0.17-0.438,0.41v14.37c-39.4-2.92-70.86-34.38-73.781-73.78h14.343c0.236,0,0.438-0.2,0.438-0.44v-11.154c0-0.235-0.202-0.406-0.438-0.406h-14.343c2.918-39.372,34.33-70.848,73.687-73.812zm6.094-10.188c-49.706,0-90,40.294-90,90,0,49.71,40.294,90,90,90,49.71,0,90-40.29,90-90,0-49.706-40.29-90-90-90zm0-10c55.23,0,100,44.772,100,100,0,55.23-44.77,100-100,100-55.228,0-100-44.77-100-100,0-55.228,44.772-100,100-100z" />
            </svg>
            <span class="current lfloat">Current: ???</span>
            <span class="local lfloat">Local: ???</span>
        </div>

        <div id="map"></div>

        <div id="telemetry_graph" style="display: none">
            <div class="graph_label">Telemetry Graph</div>
            <div class="holder" style="height: 200px;width: 50px"></div>
        </div>
    </div>
    <div id="main" style="dispaly: none">
        <div class="scrollwrapper">
            <div class="portrait">
                <div class="row vehicle0"><div class="header empty"><span>No vehicles :(</span></div></div>
            </div>
            <div class="landscape">
                <div class="row vehicle0"><div class="header empty"><span>No vehicles :(</span></div></div>
            </div>
        </div>
    </div>
    <script src="http://maps.google.com/maps/api/js?v=3.10&sensor=false&libraries=weather&language=en_us&key=AIzaSyCOqkcNey4CCyG4X0X5qxHAhCgD8g5DwXg" type="text/javascript"></script>
    <script type="text/javascript" language="javascript" src="js/mobile.js"></script>
<!--
    <script type="text/javascript" language="javascript" src="js/jquery-1.8.3-min.js"></script>
    <script type="text/javascript" language="javascript" src="js/chasecar.lib.js"></script>
    <script type="text/javascript" language="javascript" src="js/iscroll.js"></script>
    <script type="text/javascript" language="javascript" src="js/nite-overlay.js"></script>
    <script type="text/javascript" language="javascript" src="js/tracker.js"></script>
    <script type="text/javascript" language="javascript" src="js/app.js"></script>
-->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38761552-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    </body>
</html>
